<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">

<meta charset="UTF-8"/>
<title layout:fragment="title">myParty | Sign Up</title>

<section layout:fragment="content">
    <div class="container">
        <div class="d-flex justify-content-center">
            <div class="d-flex flex-column bd-highlight mb-3">

                <div class="row">
                    <div class="col">
                        <div class="p-2 bd-highlight"><h1>Create an account</h1></div>
                    </div>
                </div>

                <form id="form-to-check" th:action="@{/sign-up}" method="POST" th:object="${member}">
                    <div class="row">
                        <div class="col">

                            <!--Username-->
                            <div class="row form-group justify-content-center align-items-center">
                                <div class="col-4 text-start">
                                    <label class="control-label" for="username">Username:</label>
                                </div>
                                <div class="col-8">
                                    <input class="form-control" id="username" type="text" th:field="*{username}">
                                </div>
                            </div>

                            <br>

                            <!--First Name-->
                            <div class="row form-group justify-content-center align-items-center">
                                <div class="col-4 text-start">
                                    <label class="control-label" for="first_name">First Name:</label>
                                </div>
                                <div class="col-8">
                                    <input class="form-control" id="first_name" type="text" th:field="*{firstName}">
                                </div>
                            </div>

                            <br>

                            <!--Last Name-->
                            <div class="row form-group justify-content-center align-items-center">
                                <div class="col-4 text-start">
                                    <label class="control-label" for="last_name">Last Name:</label>
                                </div>
                                <div class="col-8">
                                    <input class="form-control" id="last_name" type="text" th:field="*{lastName}">
                                </div>
                            </div>

                            <br>

                            <!--Email-->
                            <div class="row form-group justify-content-center align-items-center">
                                <div class="col-4 text-start">
                                    <label class="control-label" for="email">Email:</label>
                                </div>
                                <div class="col-8">
                                    <input class="form-control"id="email" type="email" th:field="*{email}">
                                </div>
                            </div>

                            <br>

                            <!--Phone-->
                            <div class="row form-group justify-content-center align-items-center">
                                <div class="col-4 text-start">
                                    <label class="control-label" for="phone">Phone:</label>
                                </div>
                                <div class="col-8">
                                    <input class="form-control" id="phone" type="number" th:field="*{phone}"/>
                                </div>
                            </div>

                            <br>

                            <!--Password-->
                            <div class="row form-group justify-content-center align-items-center">
                                <div class="col-4 text-start">
                                    <label class="control-label"for="psw">Password:</label>
                                </div>
                                <div class="col-8">
                                    <input class="form-control" id="psw" type="password" th:field="*{password}"
                                           pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{5,}"
                                           title="Must contain at least one number and one uppercase and lowercase letter, and at least 5 or more characters"
                                           required/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <br>

                    <div class="row">
                        <div class="col">
                            <input value="Let's Party!" type="submit"/>
                        </div>
                    </div>
                </form>

                <br>

                <div class="row">
                    <div class="col">
                        <a href="/login">Already have an account? Log in here</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!--                <div class="form-group">-->
<!--                    <label for="username">Username</label>-->
<!--                    <input id="username" th:field="*{username}">-->
<!--                </div>-->
<!--                <div class="form-group">-->
<!--                    <label for="first_name">First Name</label>-->
<!--                    <input id="first_name" type="text" th:field="*{firstName}">-->
<!--                </div>-->
<!--                <div class="form-group">-->
<!--                    <label for="last_name">Last Name</label>-->
<!--                    <input id="last_name" type="text" th:field="*{lastName}">-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--                <div class="form-group">-->
<!--                    <label for="email">Email</label>-->
<!--                    <input id="email" type="email" th:field="*{email}">-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--                <div class="form-group">-->
<!--                    <label for="phone">Phone Number</label>-->
<!--                    <input id="phone" type="number" th:field="*{phone}"/>-->
<!--                </div>-->

<!--                <div class="form-group">-->
<!--                    <label for="psw">Password</label>-->
<!--                    <input id="psw" type="password" th:field="*{password}"-->
<!--                           pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{5,}"-->
<!--                           title="Must contain at least one number and one uppercase and lowercase letter, and at least 5 or more characters"-->
<!--                           required/>-->
<!--                </div>-->

<!--            <div id="message">-->
<!--                <p>Password must contain the following:</p>-->
<!--                <p id="letter" class="invalid">A <b>lowercase</b> letter</p>-->
<!--                <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>-->
<!--                <p id="number" class="invalid">A <b>number</b></p>-->
<!--                <p id="length" class="invalid">Minimum <b>5 characters</b></p>-->
<!--            </div>-->


    <script>
    var myInput = document.getElementById("psw");
    var letter = document.getElementById("letter");
    var capital = document.getElementById("capital");
    var number = document.getElementById("number");
    var length = document.getElementById("length");

    // When the user clicks on the password field, show the message box
    myInput.onfocus = function() {
    document.getElementById("message").style.display = "block";
    }

    // When the user clicks outside of the password field, hide the message box
    myInput.onblur = function() {
    document.getElementById("message").style.display = "none";
    }

    // When the user starts to type something inside the password field
    myInput.onkeyup = function() {
    // Validate lowercase letters
    var lowerCaseLetters = /[a-z]/g;
    if(myInput.value.match(lowerCaseLetters)) {
    letter.classList.remove("invalid");
    letter.classList.add("valid");
    } else {
    letter.classList.remove("valid");
    letter.classList.add("invalid");
    }

    // Validate capital letters
    var upperCaseLetters = /[A-Z]/g;
    if(myInput.value.match(upperCaseLetters)) {
    capital.classList.remove("invalid");
    capital.classList.add("valid");
    } else {
    capital.classList.remove("valid");
    capital.classList.add("invalid");
    }

    // Validate numbers
    var numbers = /[0-9]/g;
    if(myInput.value.match(numbers)) {
    number.classList.remove("invalid");
    number.classList.add("valid");
    } else {
    number.classList.remove("valid");
    number.classList.add("invalid");
    }

    // Validate length
    if(myInput.value.length >= 5) {
    length.classList.remove("invalid");
    length.classList.add("valid");
    } else {
    length.classList.remove("valid");
    length.classList.add("invalid");
    }
    }
    </script>

</section>
<footer><p layout:fragment="custom-footer">This is actually working</p></footer>

</html>